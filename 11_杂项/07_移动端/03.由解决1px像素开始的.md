为什么通过改变页面缩放可以解决“视网膜屏 1px 像素问题”？

## 关于像素的几个概念

- 设备像素：又叫物理像素，顾名思义，显示屏是由一个个物理像素点组成的，通过控制每个像素点的颜色，使屏幕显示出不同的图像，屏幕从工厂出来那天起，它上面的物理像素点就固定不变了，单位 pt，是个 **绝对单位**。比如，iphone 5 设备像素是 640 x 1136px

> 这里的绝对指的是同一屏幕下 1pt 的尺寸（比如用 cm 表示）是固定的，不能通过编程的方式改变。但不同屏幕的 1pt 所表示的尺寸有可能不一样，高 ppi 显然 1pt 更小  
> ppi: pixels per inch：每英寸像素数，更确切的说法是像素密度，也就是衡量单位物理面积内拥有的物理像素数的情况

- CSS 像素：CSS 像素是 Web 编程的概念，指的是 CSS 样式代码中使用的逻辑像素。在 CSS 规范中，长度单位可以分为两类，绝对(absolute)单位以及相对(relative)单位。常用的 px 是一个相对单位，相对的是设备像素(device pixel)，他们之间有个换算关系，最终的目的是希望 1px 的 CSS 像素在任何手机屏幕上显示的大小都差不多。

> 如果没有这种换算，而始终都是 1:1，那么，在高 ppi 的手机上，因为物理像素表示的尺寸更小，所以最终显示效果就是小的看不清

- 设备独立像素，density-independent pixel：

## 理想视口宽度（ideal viewport）和 dpr

那 CSS 像素应该和设备像素保持怎样的关系呢？这涉及到理想视口宽度了：

- 理想视口，ideal viewport：具体计算就是浏览器底层实现了，目的就是配合设备像素间接计算出 css 像素在特定 ppi 的屏幕上显示的尺寸，比如 iPhone4 理想视口宽度是 320px，iphone6 理想视口宽度是 375px。（有些文章会提到，它的尺寸实际就是理想视口的尺寸）这句话说的不对，只有手动设置他们才相同，应该说设备独立像素和视口尺寸一致，但视口分多种。

有了理想视口（或者叫设备独立像素）就可以确定设备的 dpr：

```bash
dpr = 设备像素 / 设备独立像素 # 在某一方向上，x方向或者y方向
```

有了 dpr，就可以确定 css 像素和设备像素之间的关系：

```bash
css 像素 = 设备像素 / dpr
```

参考：

[CSS 像素、物理像素、逻辑像素、设备像素比、PPI、Viewport](https://www.cnblogs.com/zaoa/p/8630393.html)  
[设备像素，设备独立像素，CSS 像素](http://yunkus.com/physical-pixel-device-independent-pixels/)  
[meta viewport 你真的了解吗？](http://yunkus.com/meta-viewport-usage/)
