工作中遇到一个严重的漏洞：提现过程如果连续多次发送请求可能提现多笔，尽管没有余额。

后台分析，是后台一个漏洞，当时写这个提现接口的时候也很奇葩：同个提现接口，还有验证提现密码的功能，第一次发送请求带上交易密码参数，进行密码校验，校验OK后在发真正的提现请求到第三方网站，并且更严重的是是，第二次发真正提现请求的时候，后台没有再对余额进行校验！这就给攻击者攻击留下了可能。

反思这次事件，有以下几点：

1. 要明白自己业务的核心竞争力，现在公司业务为金融，安全和准确是重中之重；
2. 如果团队人员水平不一，设计核心的功能一定要交给核心人员开发（这次写提现接口的员工，不仅水平一般，写代码的时候也很粗心）。
3. 前端在写业务逻辑的时候，如果觉得哪里有问题，一定要和后端沟通。
