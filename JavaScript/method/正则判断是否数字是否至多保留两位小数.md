表单验证经常有这种需求：只能输入数字，且至多两位小数。这类验证用正则 + `Number()`方法判断最为简洁。

首先判断是否为数字：

```js
// value为要检测的值
if (!Number(value)) {
  alert('请输入数字');
}
```

然后通过正则表达式判断是否为至多两位小数的数字，所需正则表达式为：`/^[0-9]+(.[0-9]{1,2})?$/`

```js
const reg = /^[0-9]+(.[0-9]{1,2})?$/;
if (!reg.test(value)) {
  alert('请输入至多含有两位小数的数字');
}
```

当然，实际项目中可能要考虑一种情况：`1.0000000`这类包含多个零的是否符合要求，我觉得是符合的。

另外工作中实际处理的时候可能也会有其他要求，比如，传给后台的是否要统一格式，比如，始终是保留两位小数的格式等。下面是完整的检测：

```js
// 正则表达式
const reg = /^[0-9]+(.[0-9]{1,2})?$/;

// value一般从input中获取，获取到的为字符串，需要先转化为数字，此时小数点右边多余的0会删掉
let valueNumb = Number(value);

if (!Number(valueNumb)) {
  // 检测输入的是否为合法数字
  alert('请输入数字');
  return;
} else if (!reg.test(valueNumb)) {
  // 检测是否至多保留了两位小数
  alert('请输入至多含有两位小数的数字');
}

// 传给后台的数据是格式化后的
let valueExport = valueNumb.toFixed(2);
```
